<!DOCTYPE html>
<html lang="ru">
<head>
  <!--Метаданные-->
    <meta charset="UTF-8">
    <meta property="og:title" content="Tab">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Сайт с мульти поиском. С помощью которого ты можешь переключиться сразу же на несколько поисковых систем например: Google, Яндекс, Bing, Yahoo.">
  <!---->
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="https://zinteg.github.io/tab/img/favicon.svg" type="image/x-icon">
    <link rel="stylesheet" href="adap.css">
    <title>Wire</title>
</head>
  <body onload="document.getElementById('searchInput').value = ''">
    <div class="game-button"></div>

    <div class="search">
      <input class="icon" style="width: 36px; height: 36px; margin: 12px" type="image" id="search-img" src="https://zinteg.github.io/files/img/google.webp" alt="Search">
      <form id="search-form" class="input" onsubmit="searchGoogle(); return false;">
          <input class="message" type="text" placeholder="Всё тут" id="searchInput" name="search">
          <span class="clear" onclick="document.getElementById('searchInput').value = ''"></span>
          <div class="bookmark-container">
              <img class="bookmark" src="img/bookmark.svg" alt="добавить закладку" onclick="addBookmark()">
          </div>
      </form> 
      <div class="bookmark-list"></div>
      <span class="bookmark-text"></span>
      <span class="bookmark-menu">&#x22EE;</span>
  </div>

    </div>
    <script src="search.js"></script>
    <script>
      const input = document.getElementById("searchInput");
      const clear = document.querySelector(".clear");
      
      input.addEventListener("input", function () {
        if (this.value.length > 0) {
          clear.style.display = "flex";
        } else {
          clear.style.display = "none";
        }
      });
      
      clear.addEventListener("click", function () {
        input.value = "";
        clear.style.display = "none";
      });













      function addBookmark() {
        var input = document.getElementById("searchInput").value;
        if (input) {
          var bookmarkItem = document.createElement("div");
          bookmarkItem.className = "bookmark-item";
          bookmarkItem.innerText = input;
          document.querySelector(".bookmark-list").appendChild(bookmarkItem);
      
          // add click event listener to bookmark item
          bookmarkItem.addEventListener("click", function() {
            this.remove();
          });
      
          // save bookmarks to localStorage
          var bookmarks = JSON.parse(localStorage.getItem("bookmarks")) || [];
          bookmarks.push(input);
          localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
        }
      }
      
      function loadBookmarks() {
        var bookmarks = JSON.parse(localStorage.getItem("bookmarks")) || [];
        bookmarks.forEach(function(bookmark) {
          var bookmarkItem = document.createElement("div");
          bookmarkItem.className = "bookmark-item";
          bookmarkItem.innerText = bookmark;
          document.querySelector(".bookmark-list").appendChild(bookmarkItem);
      
          // add click event listener to bookmark item
          bookmarkItem.addEventListener("click", function() {
            this.remove();
            // remove bookmark from localStorage
            var bookmarks = JSON.parse(localStorage.getItem("bookmarks")) || [];
            bookmarks.splice(bookmarks.indexOf(bookmark), 1);
            localStorage.setItem("bookmarks", JSON.stringify(bookmarks));
          });
        });
      }
      
      window.addEventListener("load", function() {
        loadBookmarks();
      });
      



      // add keydown event listener to bookmark item
  bookmarkItem.addEventListener("keydown", function(event) {
    if (event.key === " ") {
      var bookmarkText = this.innerText;
      document.getElementById("searchInput").value = bookmarkText;
      event.preventDefault();
    }
  });
    </script>
</body>
</html>
